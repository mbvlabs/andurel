-- +goose Up
CREATE TABLE tokens (
    id UUID NOT NULL PRIMARY KEY DEFAULT gen_random_uuid(),
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    hash TEXT NOT NULL,
    expires_at TIMESTAMPTZ NOT NULL,
    meta_information JSONB NOT NULL
);

CREATE INDEX idx_tokens_hash ON tokens(hash);
CREATE INDEX idx_tokens_expires_at ON tokens(expires_at);

-- +goose Down
DROP INDEX IF EXISTS idx_tokens_expires_at;
DROP INDEX IF EXISTS idx_tokens_hash;
DROP TABLE IF EXISTS tokens;