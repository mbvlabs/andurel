// Code generated by andurel. DO NOT EDIT.
// This file contains constructor functions for SQLC parameters.
// These functions are automatically updated during schema refresh operations.

package db

{{ if eq .Database "postgresql" }}
import (
	"database/sql"

	"github.com/google/uuid"
	"github.com/jackc/pgx/v5/pgtype"
)
{{ else if eq .Database "sqlite" }}
import (
	"database/sql"

	"github.com/google/uuid"
)
{{ end }}

// Constructor functions for SQLC parameters - these get updated during refresh
// to make schema changes compiler-enforced and visible

func CreateInsertPaymentTransactionParams(
	id uuid.UUID,
	providerTransactionID string,
	providerCustomerID string,
	userID uuid.UUID,
	status string,
	amount string,
	currency string,
	invoiceNumber sql.NullString,
	billedAt sql.NullTime,
	completedAt sql.NullTime,
	rawData interface{},
) InsertPaymentTransactionParams {
{{- if eq .Database "postgresql" }}
	billed := pgtype.Timestamptz{}
	if billedAt.Valid {
		billed = pgtype.Timestamptz{
			Time:  billedAt.Time,
			Valid: true,
		}
	}

	completed := pgtype.Timestamptz{}
	if completedAt.Valid {
		completed = pgtype.Timestamptz{
			Time:  completedAt.Time,
			Valid: true,
		}
	}

	return InsertPaymentTransactionParams{
		ID:                  id,
		PaymentTransactionID: providerTransactionID,
		PaddleCustomerID:    providerCustomerID,
		UserID:              userID,
		Status:              status,
		Amount:              amount,
		Currency:            currency,
		InvoiceNumber:       invoiceNumber,
		BilledAt:            billed,
		CompletedAt:         completed,
		RawData:             rawData,
	}
{{- else if eq .Database "sqlite" }}
	return InsertPaymentTransactionParams{
		ID:                  id.String(),
		PaymentTransactionID: providerTransactionID,
		PaddleCustomerID:    providerCustomerID,
		UserID:              userID.String(),
		Status:              status,
		Amount:              amount,
		Currency:            currency,
		InvoiceNumber:       invoiceNumber,
		BilledAt:            billedAt,
		CompletedAt:         completedAt,
		RawData:             rawData.(sql.NullString),
	}
{{- end }}
}

func CreateUpdatePaymentTransactionParams(
	id uuid.UUID,
	status string,
	amount string,
	currency string,
	invoiceNumber sql.NullString,
	billedAt sql.NullTime,
	completedAt sql.NullTime,
	rawData interface{},
) UpdatePaymentTransactionParams {
{{- if eq .Database "postgresql" }}
	billed := pgtype.Timestamptz{}
	if billedAt.Valid {
		billed = pgtype.Timestamptz{
			Time:  billedAt.Time,
			Valid: true,
		}
	}

	completed := pgtype.Timestamptz{}
	if completedAt.Valid {
		completed = pgtype.Timestamptz{
			Time:  completedAt.Time,
			Valid: true,
		}
	}

	return UpdatePaymentTransactionParams{
		ID:            id,
		Status:        status,
		Amount:        amount,
		Currency:      currency,
		InvoiceNumber: invoiceNumber,
		BilledAt:      billed,
		CompletedAt:   completed,
		RawData:       rawData,
	}
{{- else if eq .Database "sqlite" }}
	return UpdatePaymentTransactionParams{
		ID:            id.String(),
		Status:        status,
		Amount:        amount,
		Currency:      currency,
		InvoiceNumber: invoiceNumber,
		BilledAt:      billedAt,
		CompletedAt:   completedAt,
		RawData:       rawData.(sql.NullString),
	}
{{- end }}
}

func CreateUpdatePaymentTransactionStatusParams(
	providerTransactionID string,
	status string,
	completedAt sql.NullTime,
) UpdatePaymentTransactionStatusParams {
{{- if eq .Database "postgresql" }}
	completed := pgtype.Timestamptz{}
	if completedAt.Valid {
		completed = pgtype.Timestamptz{
			Time:  completedAt.Time,
			Valid: true,
		}
	}

	return UpdatePaymentTransactionStatusParams{
		PaymentTransactionID: providerTransactionID,
		Status:              status,
		CompletedAt:         completed,
	}
{{- else if eq .Database "sqlite" }}
	return UpdatePaymentTransactionStatusParams{
		PaymentTransactionID: providerTransactionID,
		Status:              status,
		CompletedAt:         completedAt,
	}
{{- end }}
}

func CreateQueryUserTransactionsPaginatedParams(userID uuid.UUID, limit, offset int64) QueryUserTransactionsPaginatedParams {
{{- if eq .Database "postgresql" }}
	return QueryUserTransactionsPaginatedParams{
		UserID: userID,
		Limit:  limit,
		Offset: offset,
	}
{{- else if eq .Database "sqlite" }}
	return QueryUserTransactionsPaginatedParams{
		UserID: userID.String(),
		Limit:  limit,
		Offset: offset,
	}
{{- end }}
}
