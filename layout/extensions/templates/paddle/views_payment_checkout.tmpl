package views

{{- if eq .Css "tailwind" }}
script paddleScript(environment string) {
	const paddleEnv = environment === "production" ? "production" : "sandbox";
	if (typeof Paddle !== 'undefined') {
		Paddle.Environment.set(paddleEnv);
		Paddle.Setup({ vendor: parseInt(document.getElementById('paddle-vendor-id').value) });
	}
}

templ PaymentCheckout(environment string) {
	@base() {
		<script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
		<input type="hidden" id="paddle-vendor-id" value="YOUR_VENDOR_ID"/>
		@paddleScript(environment)
		<main class="container mx-auto px-4 py-8">
			<div class="max-w-2xl mx-auto">
				<h1 class="text-3xl font-bold mb-6">Checkout</h1>
				<div class="bg-white shadow-md rounded-lg p-6">
					<p class="text-gray-600 mb-4">
						Click the button below to proceed with your purchase.
					</p>
					<button
						id="checkout-button"
						class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200"
						onclick="openCheckout()"
					>
						Proceed to Checkout
					</button>
				</div>
			</div>
		</main>
		<script>
			function openCheckout() {
				Paddle.Checkout.open({
					items: [
						// Add your price IDs here
						// { priceId: 'pri_01abc123', quantity: 1 }
					]
				});
			}
		</script>
	}
}
{{- else }}
script paddleScript(environment string) {
	const paddleEnv = environment === "production" ? "production" : "sandbox";
	if (typeof Paddle !== 'undefined') {
		Paddle.Environment.set(paddleEnv);
		Paddle.Setup({ vendor: parseInt(document.getElementById('paddle-vendor-id').value) });
	}
}

templ PaymentCheckout(environment string) {
	@base() {
		<script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
		<input type="hidden" id="paddle-vendor-id" value="YOUR_VENDOR_ID"/>
		@paddleScript(environment)
		<main>
			<div class="container">
				<h1>Checkout</h1>
				<div class="card">
					<p>
						Click the button below to proceed with your purchase.
					</p>
					<button
						id="checkout-button"
						class="button"
						onclick="openCheckout()"
					>
						Proceed to Checkout
					</button>
				</div>
			</div>
		</main>
		<script>
			function openCheckout() {
				Paddle.Checkout.open({
					items: [
						// Add your price IDs here
						// { priceId: 'pri_01abc123', quantity: 1 }
					]
				});
			}
		</script>
	}
}
{{- end }}
