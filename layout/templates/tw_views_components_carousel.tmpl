package components

// --- Class helpers ---

func carouselClasses(class string) string {
	return cn("relative w-full", class)
}

func carouselContentClasses(class string) string {
	return cn("flex overflow-hidden -ml-4", class)
}

func carouselItemClasses(class string) string {
	return cn("min-w-0 shrink-0 grow-0 basis-full pl-4", class)
}

func carouselBtnClasses(extra string) string {
	return cn("absolute top-1/2 -translate-y-1/2 inline-flex items-center justify-center h-8 w-8 rounded-full border border-base-300 bg-base-100 text-base-content shadow-sm transition hover:bg-base-200 cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed", extra)
}

// --- Templ ---

// Carousel creates a horizontally scrollable content slider with previous/next controls.
// Use it for image galleries, testimonials, or feature showcases. Compose with
// CarouselContent, CarouselItem, CarouselPrevious, and CarouselNext sub-components.
//
//	@components.Carousel() {
//		@components.CarouselContent() {
//			@components.CarouselItem() { Slide 1 }
//			@components.CarouselItem() { Slide 2 }
//		}
//		@components.CarouselPrevious()
//		@components.CarouselNext()
//	}
templ Carousel(opts ...Opt) {
	<div class={ carouselClasses(classFrom(opts)) } role="region" aria-roledescription="carousel" if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		{ children... }
	</div>
}

templ CarouselContent(opts ...Opt) {
	<div class={ carouselContentClasses(classFrom(opts)) } if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		{ children... }
	</div>
}

templ CarouselItem(opts ...Opt) {
	<div class={ carouselItemClasses(classFrom(opts)) } role="group" aria-roledescription="slide" if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		{ children... }
	</div>
}

templ CarouselPrevious(opts ...Opt) {
	<button type="button" class={ carouselBtnClasses(cn("-left-12", classFrom(opts))) } aria-label="Previous slide" if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"></path></svg>
	</button>
}

templ CarouselNext(opts ...Opt) {
	<button type="button" class={ carouselBtnClasses(cn("-right-12", classFrom(opts))) } aria-label="Next slide" if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg>
	</button>
}
