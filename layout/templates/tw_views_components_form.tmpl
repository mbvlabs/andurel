package components

import "fmt"
import "strings"

type FormProps struct {
	Action string
	URL    string
}

templ Form(props FormProps, opts ...Opt) {
	<form
		class={ classFrom(opts) }
		if idFrom(opts) != "" {
			id={ idFrom(opts) }
		}
		data-indicator:submitting
		data-on:submit={ fmt.Sprintf("!$submitting && @%s('%s')", strings.ToLower(props.Action), props.URL) }
		if attrsFrom(opts) != nil {
			{ attrsFrom(opts)... }
		}
	>
		<fieldset class="m-0 min-w-0 border-none p-0" data-attr:disabled="$submitting">
			{ children... }
		</fieldset>
	</form>
}
