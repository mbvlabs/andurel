package routes

import (
	"fmt"
	"net/http"
	"time"
)

const (
	AssetsRoutePrefix = "/assets"
	assetsNamePrefix  = "assets"
)

var assetRoutes = []Route{
	Robots,
	Sitemap,
	Stylesheet,
{{- if eq .CSSFramework "vanilla"}}
	StyleImport,
{{- end}}
	Scripts,
	Script,
}

var startTime = time.Now().Unix()

var Robots = Route{
	Name:         assetsNamePrefix + ".robots",
	Path:         AssetsRoutePrefix + "/robots.txt",
	Method:       http.MethodGet,
	Controller:      "Assets",
	ControllerMethod: "Robots",
}

var Sitemap = Route{
	Name:         assetsNamePrefix + ".sitemap",
	Path:         AssetsRoutePrefix + "/sitemap.xml",
	Method:       http.MethodGet,
	Controller:      "Assets",
	ControllerMethod: "Sitemap",
}


{{- if eq .CSSFramework "vanilla"}}
var StyleImport = Route{
	Name:         assetsNamePrefix + "css.file",
	Path:         AssetsRoutePrefix + "/css/:file",
	Method:       http.MethodGet,
	Controller:      "Assets",
	ControllerMethod: "StyleImport",
}
{{- end}}

var Stylesheet = Route{
	Name:         assetsNamePrefix + "css.stylesheet",
	Path:         AssetsRoutePrefix + fmt.Sprintf("/css/%v/style.css", startTime),
	Method:       http.MethodGet,
	Controller:      "Assets",
	ControllerMethod: "Stylesheet",
}

var Scripts = Route{
	Name:         assetsNamePrefix + "js.scripts",
	Path:         AssetsRoutePrefix + fmt.Sprintf("/js/%v/scripts.js", startTime),
	Method:       http.MethodGet,
	Controller:      "Assets",
	ControllerMethod: "Scripts",
}

var Script = Route{
	Name:         assetsNamePrefix + "js.script",
	Path:         AssetsRoutePrefix + fmt.Sprintf("/js/%v/:file", startTime),
	Method:       http.MethodGet,
	Controller:      "Assets",
	ControllerMethod: "Script",
}
