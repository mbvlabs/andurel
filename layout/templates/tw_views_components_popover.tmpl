package components

// --- Class helpers ---

func popoverClasses(class string) string {
	return cn("relative inline-block", class)
}

func popoverContentClasses(class string) string {
	base := "z-50 w-72 rounded-box border border-base-300 bg-base-100 p-4 text-base-content shadow-md outline-none"
	return cn(base, class)
}

// --- Templ ---

// Popover displays floating content anchored to a trigger element. Use it for rich
// tooltips, mini-forms, or detail panels that appear on click. Compose with
// PopoverTrigger and PopoverContent sub-components.
//
//	@components.Popover() {
//		@components.PopoverTrigger() {
//			@components.Button(components.ButtonProps{Label: "Open"}).Render()
//		}
//		@components.PopoverContent() { Popover body }
//	}
templ Popover(opts ...Opt) {
	<div class={ popoverClasses(classFrom(opts)) } if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		{ children... }
	</div>
}

templ PopoverTrigger(opts ...Opt) {
	<div class={ cn("cursor-pointer", classFrom(opts)) } if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		{ children... }
	</div>
}

templ PopoverContent(opts ...Opt) {
	<div class={ popoverContentClasses(classFrom(opts)) } if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		{ children... }
	</div>
}
