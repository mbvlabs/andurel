package views

import (
	"net/http"
	"{{.ModuleName}}/internal/hypermedia"
	"{{.ModuleName}}/router/routes"
)

templ LoginForm() {
	@base() {
		<main class="flex flex-1 items-center justify-center px-6 py-10">
			<div class="mx-auto flex w-full max-w-md flex-col gap-6">
				<div class="card p-8 shadow-lg">
					<form class="form" data-indicator:submitting data-on:submit={ "!$submitting && " + hypermedia.DataAction(http.MethodPost, routes.SessionCreate.URL()) }>
						<fieldset data-attr:disabled="$submitting">
							<div class="space-y-1">
								<h2 class="text-xl font-semibold text-base-content">Login to your account</h2>
								<p class="text-sm text-base-content/60">Enter your details below to login to your account</p>
							</div>
							<div class="my-6 space-y-4">
								<div class="form-row">
									<label class="label" for="email">Email</label>
									<input id="email" type="email" class="input" data-bind="email" required/>
								</div>
								<div class="form-row">
									<label class="label" for="password">Password</label>
									<input id="password" type="password" class="input" data-bind="password" required/>
								</div>
							</div>
							<p class="mb-1 text-right text-sm">
								<a class="inline-link" href={ routes.PasswordNew.URL() }>Forgot your password?</a>
							</p>
							<button type="submit" class="btn btn-primary w-full">
								<span data-show="!$submitting">Login</span>
								<span data-show="$submitting">Loading</span>
							</button>
						</fieldset>
					</form>
					<p class="mt-6 text-center text-sm text-base-content/60">
						Don't have an account? <a class="inline-link" href={ routes.RegistrationNew.URL() }>Sign up</a>
					</p>
				</div>
			</div>
		</main>
	}
}
