package components

// --- Types ---

type CopyButtonProps struct {
	Class      string
	Attributes templ.Attributes
	Value      string
}

// --- Class helpers ---

func copyButtonClasses(p CopyButtonProps) string {
	base := "inline-flex items-center justify-center h-8 w-8 rounded-field border border-base-300 bg-transparent text-base-content/60 shadow-sm transition hover:bg-base-200 hover:text-base-content focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 cursor-pointer"
	return cn(base, p.Class)
}

// --- Templ ---

templ CopyButton(props ...CopyButtonProps) {
	{{ "{{" }} var p CopyButtonProps {{ "}}" }}
	if len(props) > 0 {
		{{ "{{" }} p = props[0] {{ "}}" }}
	}
	<button
		type="button"
		class={ copyButtonClasses(p) }
		data-value={ p.Value }
		aria-label="Copy to clipboard"
		{ p.Attributes... }
	>
		<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>
	</button>
}
