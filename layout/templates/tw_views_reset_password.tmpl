package views

import (
	"{{.ModuleName}}/router/routes"
	ui "{{.ModuleName}}/internal/ui"
)

templ ResetPasswordRequestForm() {
	@base() {
		<main class="flex-1 flex items-center justify-center px-6 py-10">
			<div class="mx-auto flex w-full max-w-md flex-col gap-6 my-6">
				<div class="rounded-box border border-base-300 bg-base-100 p-8 shadow-lg">
					@ui.Form(ui.FormProps{Action: "post", URL: routes.PasswordCreate.URL()}, ui.WithClass("space-y-5")) {
						<div class="space-y-1">
							<h2 class="text-xl font-semibold text-base-content">Reset Password</h2>
							<p class="text-sm text-base-content/60">Enter your email address and we'll send you a code to reset your password.</p>
						</div>
						<div class="space-y-4 my-6">
							<div class="w-full space-y-1">
								@ui.Label(ui.LabelProps{Text: "Email"}).WithFor("email").Render()
								@ui.Input("email").WithID("email").WithType(ui.InputTypeEmail).WithRequired(true).Render()
							</div>
						</div>
						@ui.Button(ui.ButtonProps{Label: "Send Reset Code"}).WithType(ui.ButtonTypeSubmit).WithFullWidth(true).WithLoadingLabel("Loading", "submitting").Render()
					}
					<p class="mt-6 text-center text-sm text-base-content/60">
						Remember your password? <a class="text-base-content hover:underline" href={ routes.SessionNew.URL() }>Login</a>
					</p>
				</div>
			</div>
		</main>
	}
}

templ ResetPasswordForm(token string) {
	@base() {
		<main class="flex-1 flex items-center justify-center px-6 py-10">
			<div class="mx-auto flex w-full max-w-md flex-col gap-6 my-6">
				<div class="rounded-box border border-base-300 bg-base-100 p-8 shadow-lg">
					@ui.Form(ui.FormProps{Action: "put", URL: routes.PasswordUpdate.URL()}, ui.WithClass("space-y-5")) {
						<input type="hidden" data-bind="resetPasswordToken" value={ token }/>
						<div class="space-y-1">
							<h2 class="text-xl font-semibold text-base-content">Reset Your Password</h2>
							<p class="text-sm text-base-content/60">Enter your new password below.</p>
						</div>
						<div class="space-y-4">
							<div class="w-full space-y-1">
								@ui.Label(ui.LabelProps{Text: "New Password"}).WithFor("password").Render()
								@ui.Input("password").WithID("password").WithType(ui.InputTypePassword).WithRequired(true).Render()
							</div>
							<div class="w-full space-y-1">
								@ui.Label(ui.LabelProps{Text: "Confirm New Password"}).WithFor("confirmPassword").Render()
								@ui.Input("confirmPassword").WithID("confirmPassword").WithType(ui.InputTypePassword).WithRequired(true).Render()
							</div>
						</div>
						@ui.Button(ui.ButtonProps{Label: "Reset Password"}).WithType(ui.ButtonTypeSubmit).WithFullWidth(true).WithLoadingLabel("Loading", "submitting").Render()
					}
				</div>
			</div>
		</main>
	}
}
