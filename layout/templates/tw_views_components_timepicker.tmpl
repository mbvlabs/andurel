package components

// --- Types ---

type TimepickerProps struct {
	ID          string
	Class       string
	Attributes  templ.Attributes
	Name        string
	Value       string
}

// --- Class helpers ---

func timepickerClasses(p TimepickerProps) string {
	return cn("relative w-full", p.Class)
}

func timepickerInputClasses() string {
	return "flex h-9 w-full rounded-field border border-base-300 bg-base-200 px-3 py-1 pr-8 text-sm text-base-content shadow-inner transition placeholder:text-base-content/40 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:cursor-not-allowed disabled:opacity-60"
}

// --- Templ ---

templ Timepicker(props ...TimepickerProps) {
	{{ "{{" }} var p TimepickerProps {{ "}}" }}
	if len(props) > 0 {
		{{ "{{" }} p = props[0] {{ "}}" }}
	}
	<div class={ timepickerClasses(p) } { p.Attributes... }>
		<div class="relative">
			<input
				type="time"
				class={ timepickerInputClasses() }
				if p.ID != "" {
					id={ p.ID }
				}
				if p.Name != "" {
					name={ p.Name }
					data-bind={ p.Name }
					data-attr:disabled="$submitting"
				}
				if p.Value != "" {
					value={ p.Value }
				}
			/>
			<div class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
				<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-base-content/40"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
			</div>
		</div>
	</div>
}
