package components

// --- Class helpers ---

func collapsibleClasses(class string) string {
	return cn("w-full", class)
}

func collapsibleTriggerClasses(class string) string {
	return cn("flex items-center justify-between cursor-pointer", class)
}

func collapsibleContentClasses(class string) string {
	return cn("overflow-hidden", class)
}

// --- Templ ---

// Collapsible creates a section that can be expanded or collapsed by clicking a trigger.
// Simpler than Accordion for single show/hide sections. Compose with
// CollapsibleTrigger and CollapsibleContent sub-components.
//
//	@components.Collapsible() {
//		@components.CollapsibleTrigger("Toggle")
//		@components.CollapsibleContent() { Hidden content }
//	}
templ Collapsible(opts ...Opt) {
	<div class={ collapsibleClasses(classFrom(opts)) } if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		{ children... }
	</div>
}

templ CollapsibleTrigger(label string, opts ...Opt) {
	<button type="button" class={ collapsibleTriggerClasses(classFrom(opts)) } if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		{ label }
	</button>
}

templ CollapsibleContent(opts ...Opt) {
	<div class={ collapsibleContentClasses(classFrom(opts)) } if attrsFrom(opts) != nil { { attrsFrom(opts)... } }>
		{ children... }
	</div>
}
