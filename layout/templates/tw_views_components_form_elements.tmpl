package components

type FieldProp struct {
	Value string
	Error string
}

type FieldProps map[string]FieldProp

templ InputField(label, name, inputType, placeholder string, required bool, prop FieldProp) {
	<div class="w-full space-y-1">
		<label
			for={ name }
			class="block text-sm font-medium text-base-content/80"
		>
			{ label }
		</label>
		if inputType == "checkbox" {
			<div class="flex items-center gap-3">
				<input
					type="checkbox"
					id={ name }
					value={ prop.Value }
					data-bind={ name }
					data-attr:disabled="$submitting"
					class="h-5 w-5 rounded-field border border-base-300 bg-base-200 accent-primary shadow-sm transition focus:ring-2 focus:ring-primary/50 disabled:cursor-not-allowed disabled:opacity-60"
					if required {
						required
					}
				/>
				<span class="text-sm text-base-content/70">Yes</span>
			</div>
		} else {
			<input
				type={ inputType }
				id={ name }
				value={ prop.Value }
				placeholder={ placeholder }
				data-bind={ name }
				data-attr:disabled="$submitting"
				class="w-full rounded-field border border-base-300 bg-base-200 px-4 py-2 text-base-content placeholder:text-base-content/40 shadow-inner transition focus:border-primary focus:ring-2 focus:ring-primary/50 disabled:cursor-not-allowed disabled:opacity-60"
				if required {
					required
				}
			/>
		}
		if prop.Error != "" {
			<span class="block text-sm text-error">{ prop.Error }</span>
		}
	</div>
}

templ Textarea(label, name, placeholder string, required bool, prop FieldProp) {
	<div class="w-full space-y-1">
		<label
			for={ name }
			class="block text-sm font-medium text-base-content/80"
		>
			{ label }
		</label>
		<textarea
			id={ name }
			placeholder={ placeholder }
			data-bind={ name }
			data-attr:disabled="$submitting"
			class="min-h-[140px] w-full rounded-field border border-base-300 bg-base-200 px-4 py-2 text-base-content placeholder:text-base-content/40 shadow-inner transition focus:border-primary focus:ring-2 focus:ring-primary/50 disabled:cursor-not-allowed disabled:opacity-60"
			if required {
				required
			}
		>
			{ prop.Value }
		</textarea>
		if prop.Error != "" {
			<span class="block text-sm text-error">{ prop.Error }</span>
		}
	</div>
}

templ SubmitButton(title string) {
	<button
		type="submit"
		data-attr:disabled="$submitting"
		class="w-full mt-2 inline-flex items-center justify-center rounded-field bg-primary px-6 py-2.5 text-sm font-semibold text-primary-content shadow-sm transition hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/30 disabled:cursor-not-allowed disabled:opacity-60"
	>
		<span
			data-show="!$submitting"
		>
			{ title }
		</span>
		<span
			data-show="$submitting"
		>
			Loading
		</span>
	</button>
}
